# 애플리케이션 서비스 중 발생할 수 있는 문제들

>- 컨테이너가 충돌 되거나 중지되어, 새로운 컨테이너로 교체되어야 할 수 있다.
>- 트래픽에 따라 컨테이너 수가 증가할 필요가 있다.
>- 트래픽이 각각의 컨테이너에 균일하게 분배 되어야 한다.
>
>**호스팅 프로바이더 서비스(ECS) 사용시 위의 문제들이 해결될 수 있다.**
>하지만 프로바이더마다 설정 방법이 달라, 프로바이더를 변경해야할 때 해당 프로바이더 서비스에 대해 학습이 필요하다. 결국 해당 솔루션에 종속된다.
>
>**쿠버네티스는 이러한 문제들을 해결하기 위해 시작된 오픈소스 이다.**

---
# 쿠버네티스 ?

>쿠버네티스를 한마디로 정의하면 **"멀티 머신을 위한 도커 컴포즈"** 이다.
>쿠버네티스는 컨테이너화된 애플리케이션의 대규모 배포, 스케일링 및 관리를 자동화하는 오픈소스 컨테이너 오케스트레이션 플랫폼이다.

### 주요 특징

- **자동화된 운영**
	- 컨테이너의 배포, 확장 관리를 자동화하여 수동 프로세스를 최소화한다.
- **자동 복구**
	- 실패한 컨테이너를 자동으로 재시작하고, 노드 장애 시 다른 노드로 컨테이너를 이동한다.
- **로드 밸런싱**
	- 트래픽을 자동으로 분산시켜 애플리케이션의 안정성을 높인다.
- **확장성**
	- 명령어 하나로 컨테이너의 수를 쉽게 조절 가능하다.

![[what_is_kubernetes.png]]

### 쿠버네티스가 필요한 이유?

>컨테이너들의 구조를 정의하고, 클라우드 프로바이더 설정을 추가하면 어느 클라우드 프로바이더 또는 원격 머신에서도 동작한다.

![[why_kubernetes.png]]

---
# 쿠버네티스 아키텍처

![[kubernetes_architecture.png]]

### 워커 노드

![[worker_node_details.png]]

### 마스터 노드

![[master_node_details.png]]

### 코어 컴포넌트

![[kubernetes_core_components.png]]
- 클러스터(Cluster)
	- 노드 머신들의 구성
- 노드(Nodes)
	- 한개 또는 여러 파드(Pods)를 호스팅 하는 물리 또는 가상 머신
	- 마스터 노드(Master Node)
		- 워커 노드를 통해 파드를 관리하는 클러스터 컨트롤 플레인
	- 워커 노드(Worker Node)
		- 컨테이너가 실행되는 호스트 파드
- 파드(Pods)
	- 실행되는 애플리케이션 컨테이너와 그에 필요한 리소스를 포함하는 것
	- 쿠버네티스의 가장 기본적인 배포 단위
- 컨테이너(Containers)
	- 일반적인 컨테이너
- 서비스(Services)
	- 독립적인 IP 주소를 가진 파드들의 논리적 집합

---
# 쿠버네티스 자동화와 설정

![[kubernetes_work.png]]
- 쿠버네티스가 해주는 작업
	- `Pods` 의 생성 및 관리
	- `Pods` 모니터링을 통한 스케일링 및 재생성
	- 클라우드 리소스를 활용하여 구성을 적용
- 직접 해야 하는 작업
	- Cluster 및 Node 인스턴스 생성 (워커 + 마스터 노드)
	- API 서버, kubelet 및 기타 쿠버네티스 서비스들 노드에 설치
	- 필요시 클라우드 프로바이더 리소스 생성(Load Balancer, Filesystems)

---
# 쿠버네티스 작동 방식

>
### Pod object

### Deployment object

### 



출처: [유데미 Docker & Kubernetes: 실전가이드](https://www.udemy.com/course/docker-kubernetes-2022/?couponCode=24T4MT180225)
